<h1>Listing Case Managers</h1>
<h4>Found <%= @case_managers.count %> case managers</h4>
<div ng-controller="CaseManagersCtrl">
<button ng-click="tableParams.sorting({})" class="btn btn-default pull-right">Clear sorting</button>
<table class='table' ng-table="tableParams" show-filter="true">
  <tbody>
      <tr ng-repeat="case_manager in $data">
        <td data-title="'Email'" sortable="'email'"  filter="{ 'email': 'text' }">{{case_manager.email}}</td>
        <td data-title="'Name'" sortable="'full_name'" filter="{ 'full_name': 'text' }">{{case_manager.full_name}}</td>
        <td data-title="'Phone Number'" filter="{ 'phone_number': 'text' }">{{case_manager.phone_number}}</td>
        <td data-title="'Members Managed'" sortable="'managed_members_length'">{{case_manager.managed_members_length}}</td>
        <td>{{case_manager.links.manage_members}}</td>
        <td data-ng-bind-html="case_manager.links.show"></td>
        <td data-ng-bind-html="case_manager.links.edit"></td>
      </tr>
  </tbody>
</table>
</div>
<br>

<%= link_to 'New Case manager', new_case_manager_path if current_user.is_a? CaseManager  %>
