<%= javascript_tag do %>
  window.member_id = '<%= @member.id %>';
<% end %>

<div class="row" ng-controller="MeasurementsTableCtrl" ng-cloak>
  <div class="col-md-12">
    <div class="row">
      <div class="col-md-6">
        <h1>Measurements</h1>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <input type="search" ng-model="filter.$"class="search-box form-control width-auto" />
        </div>
      </div>
    </div>
    <div class="row">
        <table class='table col-md-12 table-hover table-condensed' ng-table="tableParams">
          <tbody>
              <tr ng-repeat="measurement in $data">
                <td data-title="'Glucose Value'" sortable="'glucose_value'">{{measurement.glucose_value}}</td>
                <td data-title="'Measured At'" sortable="'measured_at'">{{measurement.measured_at | date: 'short' }}</td>
                <td data-title="'Code Number'" sortable="'code_number'">{{measurement.code_number}}</td>
                <td data-title="'Reading Type'" sortable="'reading_type'">{{measurement.reading_type}}</td>
                <td data-title="'Archived at'" sortable="'archived_at'">{{measurement.archived_at | date: 'short' }}</td>
                <td data-ng-bind-html="measurement.links.show"></td>
                <td data-ng-bind-html="measurement.links.edit"></td>
              </tr>
          </tbody>
        </table>
    </div>
    <p><strong>Total measurements:</strong> {{tableParams.total()}}</p>
  </div>
</div>